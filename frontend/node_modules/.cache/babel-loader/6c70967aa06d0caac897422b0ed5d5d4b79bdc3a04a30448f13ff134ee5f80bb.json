{"ast":null,"code":"import{useEffect,useState}from\"react\";import{fetchAllData,addReader}from\"../requests\";import Card from\"./ui/Card\";import AddReader from\"./forms/AddReader\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Main(_ref){let{shown,setShown}=_ref;const[data,setData]=useState([]);useEffect(()=>{fetchAllData(setData);},[]);const countIssuedBlanks=id=>{let current=data.filter(element=>{return parseInt(element.supplier_id)===parseInt(id);});return current[0].Blanks.length;};const hasIssuedBook=(supplier_id,blank_id)=>{const newReader=data.filter(element=>{return parseInt(element.supplier_id)===parseInt(supplier_id);});const haveSameBook=newReader[0].Blanks.some(book=>parseInt(book.blank_id)===parseInt(blank_id));return haveSameBook;};return/*#__PURE__*/_jsxs(\"main\",{className:\"main-block\",children:[shown&&/*#__PURE__*/_jsx(AddReader,{setShown:setShown,requestFunction:addReader}),/*#__PURE__*/_jsx(\"div\",{className:\"main-block-cards-list\",children:data.map((element,index)=>{return/*#__PURE__*/_jsx(Card,{data:element,dataAll:data,setDataAll:setData,countIssuedBlanks:countIssuedBlanks,hasIssuedBook:hasIssuedBook},index);})})]});}","map":{"version":3,"names":["useEffect","useState","fetchAllData","addReader","Card","AddReader","jsx","_jsx","jsxs","_jsxs","Main","_ref","shown","setShown","data","setData","countIssuedBlanks","id","current","filter","element","parseInt","supplier_id","Blanks","length","hasIssuedBook","blank_id","newReader","haveSameBook","some","book","className","children","requestFunction","map","index","dataAll","setDataAll"],"sources":["C:/Users/Admin/Desktop/stock/frontend/src/components/Main.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\"\r\nimport { fetchAllData, addReader} from \"../requests\";\r\n\r\nimport Card from \"./ui/Card\";\r\nimport AddReader from \"./forms/AddReader\";\r\n\r\nexport default function Main({shown, setShown}) {\r\n    const [data, setData] = useState([]);\r\n\r\n    useEffect(() => {\r\n        fetchAllData(setData);\r\n    }, [])\r\n\r\n    const countIssuedBlanks = (id) => {\r\n        let current = data.filter((element) => {\r\n            return parseInt(element.supplier_id) === parseInt(id)\r\n        })\r\n\r\n        return current[0].Blanks.length;\r\n    }\r\n\r\n    const hasIssuedBook = (supplier_id, blank_id) => {\r\n        const newReader = data.filter((element) => {\r\n            return parseInt(element.supplier_id) === parseInt(supplier_id);\r\n        });\r\n\r\n        const haveSameBook = newReader[0].Blanks.some((book) => \r\n            parseInt(book.blank_id) === parseInt(blank_id)\r\n        )\r\n\r\n        return haveSameBook;\r\n    }\r\n\r\n    return (\r\n        <main className=\"main-block\">\r\n            {shown && (\r\n                <AddReader setShown={setShown} requestFunction={addReader}/>\r\n            )}\r\n\r\n            <div className=\"main-block-cards-list\">\r\n                {data.map((element, index) => {\r\n                    return (\r\n                        <Card key={index} data={element} dataAll={data} setDataAll={setData} countIssuedBlanks={countIssuedBlanks} hasIssuedBook={hasIssuedBook}/>\r\n                    )\r\n                })}\r\n            </div>\r\n        </main>\r\n    )\r\n}"],"mappings":"AAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAASC,YAAY,CAAEC,SAAS,KAAO,aAAa,CAEpD,MAAO,CAAAC,IAAI,KAAM,WAAW,CAC5B,MAAO,CAAAC,SAAS,KAAM,mBAAmB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1C,cAAe,SAAS,CAAAC,IAAIA,CAAAC,IAAA,CAAoB,IAAnB,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAAF,IAAA,CAC1C,KAAM,CAACG,IAAI,CAAEC,OAAO,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CAEpCD,SAAS,CAAC,IAAM,CACZE,YAAY,CAACa,OAAO,CAAC,CACzB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAC,iBAAiB,CAAIC,EAAE,EAAK,CAC9B,GAAI,CAAAC,OAAO,CAAGJ,IAAI,CAACK,MAAM,CAAEC,OAAO,EAAK,CACnC,MAAO,CAAAC,QAAQ,CAACD,OAAO,CAACE,WAAW,CAAC,GAAKD,QAAQ,CAACJ,EAAE,CAAC,CACzD,CAAC,CAAC,CAEF,MAAO,CAAAC,OAAO,CAAC,CAAC,CAAC,CAACK,MAAM,CAACC,MAAM,CACnC,CAAC,CAED,KAAM,CAAAC,aAAa,CAAGA,CAACH,WAAW,CAAEI,QAAQ,GAAK,CAC7C,KAAM,CAAAC,SAAS,CAAGb,IAAI,CAACK,MAAM,CAAEC,OAAO,EAAK,CACvC,MAAO,CAAAC,QAAQ,CAACD,OAAO,CAACE,WAAW,CAAC,GAAKD,QAAQ,CAACC,WAAW,CAAC,CAClE,CAAC,CAAC,CAEF,KAAM,CAAAM,YAAY,CAAGD,SAAS,CAAC,CAAC,CAAC,CAACJ,MAAM,CAACM,IAAI,CAAEC,IAAI,EAC/CT,QAAQ,CAACS,IAAI,CAACJ,QAAQ,CAAC,GAAKL,QAAQ,CAACK,QAAQ,CACjD,CAAC,CAED,MAAO,CAAAE,YAAY,CACvB,CAAC,CAED,mBACInB,KAAA,SAAMsB,SAAS,CAAC,YAAY,CAAAC,QAAA,EACvBpB,KAAK,eACFL,IAAA,CAACF,SAAS,EAACQ,QAAQ,CAAEA,QAAS,CAACoB,eAAe,CAAE9B,SAAU,CAAC,CAC9D,cAEDI,IAAA,QAAKwB,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CACjClB,IAAI,CAACoB,GAAG,CAAC,CAACd,OAAO,CAAEe,KAAK,GAAK,CAC1B,mBACI5B,IAAA,CAACH,IAAI,EAAaU,IAAI,CAAEM,OAAQ,CAACgB,OAAO,CAAEtB,IAAK,CAACuB,UAAU,CAAEtB,OAAQ,CAACC,iBAAiB,CAAEA,iBAAkB,CAACS,aAAa,CAAEA,aAAc,EAA7HU,KAA8H,CAAC,CAElJ,CAAC,CAAC,CACD,CAAC,EACJ,CAAC,CAEf","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}