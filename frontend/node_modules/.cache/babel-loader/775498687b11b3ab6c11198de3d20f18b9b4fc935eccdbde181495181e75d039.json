{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\irkam\\\\Desktop\\\\Burkov\\\\frontend\\\\src\\\\components\\\\Main.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { fetchAllData, addReader } from \"../requests\";\nimport Card from \"./ui/Card\";\nimport AddReader from \"./forms/AddReader\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Main({\n  shown,\n  setShown\n}) {\n  _s();\n  const [data, setData] = useState([]);\n  useEffect(() => {\n    fetchAllData(setData);\n  }, []);\n  const countIssuedBlanks = id => {\n    let current = data.filter(element => {\n      return parseInt(element.supplier_id) === parseInt(id);\n    });\n    return current[0].Blanks.length;\n  };\n  const hasIssuedBook = (supplier_id, book_id) => {\n    const newReader = data.filter(element => {\n      return parseInt(element.supplier_id) === parseInt(supplier_id);\n    });\n    const haveSameBook = newReader[0].Blanks.some(book => parseInt(book.book_id) === parseInt(book_id));\n    return haveSameBook;\n  };\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    className: \"main-block\",\n    children: [shown && /*#__PURE__*/_jsxDEV(AddReader, {\n      setShown: setShown,\n      requestFunction: addReader\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-block-cards-list\",\n      children: data.map((element, index) => {\n        return /*#__PURE__*/_jsxDEV(Card, {\n          data: element,\n          dataAll: data,\n          setDataAll: setData,\n          countIssuedBlanks: countIssuedBlanks,\n          hasIssuedBook: hasIssuedBook\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 25\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 9\n  }, this);\n}\n_s(Main, \"IEMTtLVFIuToo7X/raQbJAxzNQU=\");\n_c = Main;\nvar _c;\n$RefreshReg$(_c, \"Main\");","map":{"version":3,"names":["useEffect","useState","fetchAllData","addReader","Card","AddReader","jsxDEV","_jsxDEV","Main","shown","setShown","_s","data","setData","countIssuedBlanks","id","current","filter","element","parseInt","supplier_id","Blanks","length","hasIssuedBook","book_id","newReader","haveSameBook","some","book","className","children","requestFunction","fileName","_jsxFileName","lineNumber","columnNumber","map","index","dataAll","setDataAll","_c","$RefreshReg$"],"sources":["C:/Users/irkam/Desktop/Burkov/frontend/src/components/Main.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\"\r\nimport { fetchAllData, addReader} from \"../requests\";\r\n\r\nimport Card from \"./ui/Card\";\r\nimport AddReader from \"./forms/AddReader\";\r\n\r\nexport default function Main({shown, setShown}) {\r\n    const [data, setData] = useState([]);\r\n\r\n    useEffect(() => {\r\n        fetchAllData(setData);\r\n    }, [])\r\n\r\n    const countIssuedBlanks = (id) => {\r\n        let current = data.filter((element) => {\r\n            return parseInt(element.supplier_id) === parseInt(id)\r\n        })\r\n\r\n        return current[0].Blanks.length;\r\n    }\r\n\r\n    const hasIssuedBook = (supplier_id, book_id) => {\r\n        const newReader = data.filter((element) => {\r\n            return parseInt(element.supplier_id) === parseInt(supplier_id);\r\n        });\r\n\r\n        const haveSameBook = newReader[0].Blanks.some((book) => \r\n            parseInt(book.book_id) === parseInt(book_id)\r\n        )\r\n\r\n        return haveSameBook;\r\n    }\r\n\r\n    return (\r\n        <main className=\"main-block\">\r\n            {shown && (\r\n                <AddReader setShown={setShown} requestFunction={addReader}/>\r\n            )}\r\n\r\n            <div className=\"main-block-cards-list\">\r\n                {data.map((element, index) => {\r\n                    return (\r\n                        <Card key={index} data={element} dataAll={data} setDataAll={setData} countIssuedBlanks={countIssuedBlanks} hasIssuedBook={hasIssuedBook}/>\r\n                    )\r\n                })}\r\n            </div>\r\n        </main>\r\n    )\r\n}"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,YAAY,EAAEC,SAAS,QAAO,aAAa;AAEpD,OAAOC,IAAI,MAAM,WAAW;AAC5B,OAAOC,SAAS,MAAM,mBAAmB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1C,eAAe,SAASC,IAAIA,CAAC;EAACC,KAAK;EAAEC;AAAQ,CAAC,EAAE;EAAAC,EAAA;EAC5C,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EAEpCD,SAAS,CAAC,MAAM;IACZE,YAAY,CAACW,OAAO,CAAC;EACzB,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMC,iBAAiB,GAAIC,EAAE,IAAK;IAC9B,IAAIC,OAAO,GAAGJ,IAAI,CAACK,MAAM,CAAEC,OAAO,IAAK;MACnC,OAAOC,QAAQ,CAACD,OAAO,CAACE,WAAW,CAAC,KAAKD,QAAQ,CAACJ,EAAE,CAAC;IACzD,CAAC,CAAC;IAEF,OAAOC,OAAO,CAAC,CAAC,CAAC,CAACK,MAAM,CAACC,MAAM;EACnC,CAAC;EAED,MAAMC,aAAa,GAAGA,CAACH,WAAW,EAAEI,OAAO,KAAK;IAC5C,MAAMC,SAAS,GAAGb,IAAI,CAACK,MAAM,CAAEC,OAAO,IAAK;MACvC,OAAOC,QAAQ,CAACD,OAAO,CAACE,WAAW,CAAC,KAAKD,QAAQ,CAACC,WAAW,CAAC;IAClE,CAAC,CAAC;IAEF,MAAMM,YAAY,GAAGD,SAAS,CAAC,CAAC,CAAC,CAACJ,MAAM,CAACM,IAAI,CAAEC,IAAI,IAC/CT,QAAQ,CAACS,IAAI,CAACJ,OAAO,CAAC,KAAKL,QAAQ,CAACK,OAAO,CAC/C,CAAC;IAED,OAAOE,YAAY;EACvB,CAAC;EAED,oBACInB,OAAA;IAAMsB,SAAS,EAAC,YAAY;IAAAC,QAAA,GACvBrB,KAAK,iBACFF,OAAA,CAACF,SAAS;MAACK,QAAQ,EAAEA,QAAS;MAACqB,eAAe,EAAE5B;IAAU;MAAA6B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAC,CAC9D,eAED5B,OAAA;MAAKsB,SAAS,EAAC,uBAAuB;MAAAC,QAAA,EACjClB,IAAI,CAACwB,GAAG,CAAC,CAAClB,OAAO,EAAEmB,KAAK,KAAK;QAC1B,oBACI9B,OAAA,CAACH,IAAI;UAAaQ,IAAI,EAAEM,OAAQ;UAACoB,OAAO,EAAE1B,IAAK;UAAC2B,UAAU,EAAE1B,OAAQ;UAACC,iBAAiB,EAAEA,iBAAkB;UAACS,aAAa,EAAEA;QAAc,GAA7Hc,KAAK;UAAAL,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAyH,CAAC;MAElJ,CAAC;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACD,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACJ,CAAC;AAEf;AAACxB,EAAA,CA1CuBH,IAAI;AAAAgC,EAAA,GAAJhC,IAAI;AAAA,IAAAgC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}